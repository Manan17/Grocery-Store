<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="styleSignup.css" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
      integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
      crossorigin="anonymous"
    />

    <link
      href="https://fonts.googleapis.com/css2?family=Merienda+One&family=Montserrat&display=swap"
      rel="stylesheet"
    />
    <script
      src="https://kit.fontawesome.com/3622d4f3a3.js"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <form>
      <div class="login-box">
        <h1>Sign Up</h1>
        <div class="textbox form-group">
          <input
            type="text"
            placeholder="Username..."
            required
            id="username"
            class="form-control"
          />
        </div>
        <div class="textbox form-group">
          <input
            type="email"
            placeholder="Email..."
            required
            id="email"
            class="form-control"
          />
        </div>
        <div class="textbox form-group">
          <input
            type="password"
            placeholder="Password..."
            required
            id="password"
            class="form-control"
          />
        </div>
        <div class="textbox form-group">
          <input
            type="password"
            placeholder="Confirm Password..."
            required
            id="cpassword"
            class="form-control"
          />
        </div>
        <button
          type="button"
          class="btn-block btn btn-outline-success"
          id="signupbtn"
        >
          Sign Up
        </button>
        <h4 class="login"><a href="../index.html">Or Login</a></h4>
      </div>
    </form>
    <script src="https://www.gstatic.com/firebasejs/7.16.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.16.1/firebase-auth.js"></script>
    <script>
      const config = {
        apiKey: "AIzaSyAcRlr8fwGmLrb7y00Vo7XTIEET2x6cYyw",
        authDomain: "grocery-store-b36e8.firebaseapp.com",
        databaseURL: "https://grocery-store-b36e8.firebaseio.com",
        projectId: "grocery-store-b36e8",
        storageBucket: "grocery-store-b36e8.appspot.com",
        messagingSenderId: "92110725591",
        appId: "1:92110725591:web:7f6f1a95707ab5251c2b92",
        measurementId: "G-0CD9T9FMZL",
      };
      firebase.initializeApp(config);

      const auth = firebase.auth();

      const signUp = (event) => {
        event.preventDefault();

        email = document.getElementById("email").value;
        password = document.getElementById("password").value;
        username = document.getElementById("username").value;
        auth
          .createUserWithEmailAndPassword(email, password)
          .then((authUser) => {
            return authUser.user.updateProfile({
              displayName: username,
            });
          })
          .then((res) => {
            alert("Successful");
          })
          .catch((error) => alert(error));
      };

      document.getElementById("signupbtn").addEventListener("click", signUp);
    </script>
  </body>
</html>
